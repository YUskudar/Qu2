@model List<chatting.Models.content>

<!DOCTYPE html>
<html>
<head>
    <title>Tüm İçerikler</title>
    <style>
        /* Ana stil */
        body {
            font-family: Arial, sans-serif;
        }

        /* İçerik konteyneri */
        .content-container {
            max-width: 800px;
            margin: 0 auto;
            padding: 20px;
        }

        /* İçerik liste stil */
        .content-list {
            background-color: #fff;
            border-radius: 4px;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
        }

        /* İçerik kutusu stil */
        .content-box {
            padding: 20px;
            border-bottom: 1px solid #e0e0e0;
            margin-bottom: 10px;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        /* Kullanıcı bilgileri */
        .user-info {
            display: flex;
            align-items: center;
        }

        /* Kullanıcı adı */
        .username {
            font-weight: bold;
            font-size: 18px;
            color: #333;
            margin-right: 10px;
        }

        /* İçerik içeriği */
        .content-info {
            width: 80%;
        }

        /* İçerik tarih */
        .content-date {
            font-size: 14px;
            color: #888;
        }

        /* Profil resmi */
        .profile-picture {
            max-width: 50px;
        }
    </style>
</head>
<body>
    <div class="content-container">
        <h2>Tüm İçerikler</h2>
        <div class="content-list">
            @foreach (var contentItem in Model.OrderByDescending(c => c.date))
            {
                <div class="content-box">
                    <div class="content-info">
                        <h3>@contentItem.title</h3>
                        <p>@contentItem.message</p>
                        <div class="content-date">
                            Oluşturulma Tarihi: @contentItem.date?.ToString
                        </div>
                    </div>
                    <div class="user-info">
                        <form action="@Url.Action("UserDetails", "Home")" method="post" style="display: inline;">
                            <input type="hidden" name="id" value="@contentItem.user.userid" />
                            <button type="submit" class="user-button">@contentItem.user.usernickname</button>
                        </form>
                        <div class="profile-picture">
                            @if (Model != null && @contentItem.user.userpp != null)
                            {
                                <img src="data:image;base64,@Convert.ToBase64String(@contentItem.user.userpp)" alt="Profil Resmi" class="img-thumbnail" />
                            }
                            else
                            {
                                <p>Mevcut profil resmi yok.</p>
                            }
                        </div>
                    </div>
                </div>
            }
        </div>
    </div>
</body>
</html>
